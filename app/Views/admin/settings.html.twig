{% extends template %}
{% block title %}Pengaturan - {{ store.name }}{% endblock title %}

{% block main %}

<div class="flex flex-col w-full h-full">
  <header class="h-20 py-4 px-7">
    <h1 class="text-3xl font-bold">Pengaturan</h1>
  </header>
  <div x-data="{ currentSection: 'store-information' }" class="flex">
    <ul class="w-48 text-lg border-r-0 border-trueGray-200">
      {{ _self.nav_item('Info toko', 'store-information') }}
      {{ _self.nav_item('Template pesan', 'message-template') }}
      {{ _self.nav_item('Sosial media', 'social-profiles') }}
      {{ _self.nav_item('Akun admin', 'admin-account') }}
    </ul>
    <div class="pl-8 w-[36rem]">
      <section x-show="currentSection === 'store-information'" x-transition class="pb-12">
        <form hx-put="{{ route_to('update-store') }}" hx-target="#main" hx-indicator="#main-indicator" class="space-y-16">
          <div class="space-y-6">
            {% import "components/components.html.twig" as components %}
            {{ components.input({
              label: 'Nama toko',
              type: 'text',
              name: 'name',
              value: store.name,
            }) }}

            {{ components.input({
              label: 'Deskrpsi toko',
              type: 'textarea',
              rows: 4,
              name: 'desc',
              value: store.desc,
            }) }}

            {{ components.input({
              label: 'Alamat',
              type: 'textarea',
              rows: 4,
              name: 'address',
              value: store.address,
            }) }}
            
          </div>
          <div>
            {{ components.input({
              label: 'Nomor WhatsApp',
              type: 'number',
              name: 'phone',
              value: store.phone,
            }) }}
          </div>
          <div class="space-y-6">
            <div>
              <div>Link website tokomu:</div>
              <span class="text-lg font-semibold">{{ base_url('/') }}</span>
            </div>
            <div>
              <div>Tampilkan toko ke publik?</div>
              {{ components.switch({
                name: 'status',
                checkedValue: 1,
                uncheckedValue: 0,
                checked: store.status == 1,
                activeText: 'Tampilkan',
                inactiveText: 'Sembunyikan',
                class: 'font-semibold mt-2',
              }) }}
            </div>
          </div>
          <button type="submit" class="btn btn-base btn-emerald">Simpan</button>
        </form>
      </section>
      <section x-show="currentSection === 'message-template'" x-transition>
        <form hx-put="{{ route_to('update-message') }}" hx-target="#main" hx-indicator="#main-indicator" class="space-y-4">
          {{ components.input({
            label: 'Template pesan',
            type: 'textarea',
            rows: 6,
            name: 'message',
            value: store.message,
          }) }}
          <button type="submit" class="btn btn-base btn-emerald">Simpan</button>
        </form>
      </section>
      <section x-show="currentSection === 'social-profiles'" x-transition>
        <form hx-put="{{ route_to('update-profiles') }}" hx-target="#main" hx-indicator="#main-indicator" class="space-y-4">
          {{ components.input({
            label: 'Instagram',
            type: 'text',
            name: 'instagram',
            value: store.instagram,
          }) }}
          <button type="submit" class="btn btn-base btn-emerald">Simpan</button>
        </form>
      </section>
      <section x-show="currentSection === 'admin-account'" x-transition>
        
      </section>
    </div>
  </div>
</div>

{% endblock main %}

{% macro nav_item(name, section) %}
<ul @click="currentSection = '{{ section }}'" :class="{ 'font-semibold text-emerald-600 bg-trueGray-100': currentSection === '{{ section }}', 'text-trueGray-700': currentSection !== '{{ section }}' }" class="flex justify-between py-2 pr-8 rounded-r-lg cursor-pointer pl-7 hover:bg-trueGray-100">
  <span>{{ name }}</span>
</ul>
{% endmacro %}